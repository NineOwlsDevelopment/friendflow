"use strict";(self.webpackChunk_solana_wallet_adapter_create_react_app_starter=self.webpackChunk_solana_wallet_adapter_create_react_app_starter||[]).push([[650],{650:function(n,e,t){t.r(e),t.d(e,{default:function(){return T}});var r=t(9033),o=t.n(r),i=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},n(e,t)};return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),c=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return i(e,n),e}(o()),s=c,a=t(4611),u=t(3680),l=t(7061),d=t(9900),p=t(4269),f=t(8114),h=t(8325),v=t(2933),w=t.n(v),_=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(e){i(e)}}function s(n){try{a(r.throw(n))}catch(e){i(e)}}function a(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,s)}a((r=r.apply(n,e||[])).next())}))},y=function(n){(0,p.Z)(t,n);var e=(0,f.Z)(t);function t(n,r){var o,i;if((0,l.Z)(this,t),(o=e.call(this))._network=r,o._publicKey=null,o._popup=null,o._handlerAdded=!1,o._nextRequestId=1,o._autoApprove=!1,o._responsePromises=new Map,o.handleMessage=function(n){var e;if(o._injectedProvider&&n.source===window||n.origin===(null===(e=o._providerUrl)||void 0===e?void 0:e.origin)&&n.source===o._popup)if("connected"===n.data.method){var t=new h.nh(n.data.params.publicKey);o._publicKey&&o._publicKey.equals(t)||(o._publicKey&&!o._publicKey.equals(t)&&o.handleDisconnect(),o._publicKey=t,o._autoApprove=!!n.data.params.autoApprove,o.emit("connect",o._publicKey))}else if("disconnected"===n.data.method)o.handleDisconnect();else if(n.data.result||n.data.error){var r=o._responsePromises.get(n.data.id);if(r){var i=(0,u.Z)(r,2),c=i[0],s=i[1];n.data.result?c(n.data.result):s(new Error(n.data.error))}}},o._beforeUnload=function(){o.disconnect()},function(n){return"object"===typeof n&&null!==n}(i=n)&&"postMessage"in i&&"function"===typeof i.postMessage)o._injectedProvider=n;else{if(!function(n){return"string"===typeof n}(n))throw new Error("provider parameter must be an injected provider or a URL string.");o._providerUrl=new URL(n),o._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:o._network}).toString()}return o}return(0,d.Z)(t,[{key:"handleConnect",value:function(){var n,e=this;return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise((function(n){e.sendRequest("connect",{}),n()})):(window.name="parent",this._popup=window.open(null===(n=this._providerUrl)||void 0===n?void 0:n.toString(),"_blank","location,resizable,width=460,height=675"),new Promise((function(n){e.once("connect",n)})))}},{key:"handleDisconnect",value:function(){var n=this;this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach((function(e,t){var r=(0,u.Z)(e,2)[1];n._responsePromises.delete(t),r(new Error("Wallet disconnected"))}))}},{key:"sendRequest",value:function(n,e){return _(this,void 0,void 0,(0,a.Z)().mark((function t(){var r,o=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("connect"===n||this.connected){t.next=2;break}throw new Error("Wallet not connected");case 2:return r=this._nextRequestId,++this._nextRequestId,t.abrupt("return",new Promise((function(t,i){var c,s,a,u;o._responsePromises.set(r,[t,i]),o._injectedProvider?o._injectedProvider.postMessage({jsonrpc:"2.0",id:r,method:n,params:Object.assign({network:o._network},e)}):(null===(c=o._popup)||void 0===c||c.postMessage({jsonrpc:"2.0",id:r,method:n,params:e},null!==(a=null===(s=o._providerUrl)||void 0===s?void 0:s.origin)&&void 0!==a?a:""),o.autoApprove||null===(u=o._popup)||void 0===u||u.focus())})));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"publicKey",get:function(){return this._publicKey}},{key:"connected",get:function(){return null!==this._publicKey}},{key:"autoApprove",get:function(){return this._autoApprove}},{key:"connect",value:function(){return _(this,void 0,void 0,(0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._popup&&this._popup.close(),n.next=3,this.handleConnect();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"disconnect",value:function(){return _(this,void 0,void 0,(0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this._injectedProvider){n.next=3;break}return n.next=3,this.sendRequest("disconnect",{});case 3:this._popup&&this._popup.close(),this.handleDisconnect();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"sign",value:function(n,e){return _(this,void 0,void 0,(0,a.Z)().mark((function t(){var r,o,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n instanceof Uint8Array){t.next=2;break}throw new Error("Data must be an instance of Uint8Array");case 2:return t.next=4,this.sendRequest("sign",{data:n,display:e});case 4:return r=t.sent,o=w().decode(r.signature),i=new h.nh(r.publicKey),t.abrupt("return",{signature:o,publicKey:i});case 8:case"end":return t.stop()}}),t,this)})))}},{key:"signTransaction",value:function(n){return _(this,void 0,void 0,(0,a.Z)().mark((function e(){var t,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("signTransaction",{message:w().encode(n.serializeMessage())});case 2:return t=e.sent,r=w().decode(t.signature),o=new h.nh(t.publicKey),n.addSignature(o,r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"signAllTransactions",value:function(n){return _(this,void 0,void 0,(0,a.Z)().mark((function e(){var t,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("signAllTransactions",{messages:n.map((function(n){return w().encode(n.serializeMessage())}))});case 2:return t=e.sent,r=t.signatures.map((function(n){return w().decode(n)})),o=new h.nh(t.publicKey),n=n.map((function(n,e){return n.addSignature(o,r[e]),n})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"diffieHellman",value:function(n){return _(this,void 0,void 0,(0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n instanceof Uint8Array){e.next=2;break}throw new Error("Data must be an instance of Uint8Array");case 2:return e.next=4,this.sendRequest("diffieHellman",{publicKey:n});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})))}}]),t}(o());var b=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},n(e,t)};return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),g=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(e){i(e)}}function s(n){try{a(r.throw(n))}catch(e){i(e)}}function a(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,s)}a((r=r.apply(n,e||[])).next())}))},m=function(n,e){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(n,c)}catch(s){i=[6,s],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},k=function(n){function e(e,t){var r=n.call(this)||this;return r._instance=null,r._handleConnect=function(){r.emit("connect")},r._handleDisconnect=function(){window.clearInterval(r._pollTimer),r.emit("disconnect")},r._provider=e,r._network=t,r}return b(e,n),Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return g(this,void 0,void 0,(function(){var n=this;return m(this,(function(e){switch(e.label){case 0:return this._instance=new y(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval((function(){var e,t;!1!==(null===(t=null===(e=n._instance)||void 0===e?void 0:e._popup)||void 0===t?void 0:t.closed)&&n._handleDisconnect()}),200),[4,this._instance.connect()];case 1:return e.sent(),[2]}}))}))},e.prototype.disconnect=function(){return g(this,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return n.sent(),[2]}}))}))},e.prototype.signTransaction=function(n){return g(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signTransaction(n)];case 1:return[2,e.sent()]}}))}))},e.prototype.signAllTransactions=function(n){return g(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signAllTransactions(n)];case 1:return[2,e.sent()]}}))}))},e.prototype.signMessage=function(n,e){return void 0===e&&(e="hex"),g(this,void 0,void 0,(function(){var t;return m(this,(function(r){switch(r.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(n,e)];case 1:return t=r.sent().signature,[2,Uint8Array.from(t)]}}))}))},e}(s),x=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},n(e,t)};return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),P=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(e){i(e)}}function s(n){try{a(r.throw(n))}catch(e){i(e)}}function a(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,s)}a((r=r.apply(n,e||[])).next())}))},j=function(n,e){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(n,c)}catch(s){i=[6,s],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},A=function(n){function e(e,t){var r=n.call(this)||this;return r._provider=e,r._network=t,r}return x(e,n),Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._provider.publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this._provider.isConnected},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return P(this,void 0,void 0,(function(){var n;return j(this,(function(e){switch(e.label){case 0:if(e.trys.push([0,2,,3]),this.connected)throw new Error("Wallet already connected");return[4,this._provider.connect()];case 1:return e.sent(),this.emit("connect"),[3,3];case 2:throw n=e.sent(),this.emit("disconnect"),n;case 3:return[2]}}))}))},e.prototype.disconnect=function(){return P(this,void 0,void 0,(function(){return j(this,(function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.disconnect()];case 1:return n.sent(),this.emit("disconnect"),[2]}}))}))},e.prototype.signTransaction=function(n){return P(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.signTransaction(n,this._network)];case 1:return[2,e.sent()]}}))}))},e.prototype.signAllTransactions=function(n){return P(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.signAllTransactions(n,this._network)];case 1:return[2,e.sent()]}}))}))},e.prototype.signMessage=function(n){return P(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");if(!(n instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return[4,this._provider.signMessage(n)];case 1:return[2,e.sent().signature]}}))}))},e}(s),E=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},n(e,t)};return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),O=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(e){i(e)}}function s(n){try{a(r.throw(n))}catch(e){i(e)}}function a(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,s)}a((r=r.apply(n,e||[])).next())}))},K=function(n,e){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(n,c)}catch(s){i=[6,s],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},T=function(n){function e(e){var t=n.call(this)||this;return t._network="mainnet-beta",t._adapterInstance=null,t._connectHandler=null,t._connected=function(){t._connectHandler&&(t._connectHandler.resolve(),t._connectHandler=null),t.emit("connect",t.publicKey)},t._disconnected=function(){t._connectHandler&&(t._connectHandler.reject(),t._connectHandler=null),t._adapterInstance=null,t.emit("disconnect")},(null===e||void 0===e?void 0:e.network)&&(t._network=null===e||void 0===e?void 0:e.network),(null===e||void 0===e?void 0:e.provider)?t._provider=null===e||void 0===e?void 0:e.provider:window.salmon?t._provider=window.salmon:t._provider="https://app.salmonwallet.io",t}return E(e,n),Object.defineProperty(e.prototype,"publicKey",{get:function(){var n;return(null===(n=this._adapterInstance)||void 0===n?void 0:n.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnected",{get:function(){var n;return!!(null===(n=this._adapterInstance)||void 0===n?void 0:n.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return O(this,void 0,void 0,(function(){var n=this;return K(this,(function(e){switch(e.label){case 0:return this.connected?[2]:("string"===typeof this._provider?this._adapterInstance=new k(this._provider,this._network):this._adapterInstance=new A(this._provider,this._network),this._adapterInstance.on("connect",this._connected),this._adapterInstance.on("disconnect",this._disconnected),this._adapterInstance.connect(),[4,new Promise((function(e,t){n._connectHandler={resolve:e,reject:t}}))]);case 1:return e.sent(),[2]}}))}))},e.prototype.disconnect=function(){return O(this,void 0,void 0,(function(){return K(this,(function(n){switch(n.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return n.sent(),[2]}}))}))},e.prototype.signTransaction=function(n){return O(this,void 0,void 0,(function(){return K(this,(function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signTransaction(n)];case 1:return[2,e.sent()]}}))}))},e.prototype.signAllTransactions=function(n){return O(this,void 0,void 0,(function(){return K(this,(function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signAllTransactions(n)];case 1:return[2,e.sent()]}}))}))},e.prototype.signMessage=function(n,e){return void 0===e&&(e="utf8"),O(this,void 0,void 0,(function(){return K(this,(function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(n,e)];case 1:return[2,t.sent()]}}))}))},e.prototype.sign=function(n,e){return void 0===e&&(e="utf8"),O(this,void 0,void 0,(function(){return K(this,(function(t){switch(t.label){case 0:return[4,this.signMessage(n,e)];case 1:return[2,t.sent()]}}))}))},e}(o())}}]);
//# sourceMappingURL=650.2e3e0f02.chunk.js.map